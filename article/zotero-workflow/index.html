<!DOCTYPE html><html lang="en-US"><head><title>Zotero setup and workflow</title><meta charset="UTF-8"><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="author" content="Steven Baldasty"><meta property="og:image" content><link rel="icon" type="image/x-icon" href="/logo.png"><link rel="stylesheet" href="/site.css"></head><body><div class="brand"><img src="/logo.png" title="Website logo" alt="Three stacked blue boxes with binary digits on them" width="86" height="86"><div class="exposition"><div class="title">Bit flipping laboratory &amp; Personal website</div><div class="caption">If someone offered you a plate of warm crispy freshly baked chocolate chip cookies, would you really Reject them or would you Accept All and say thank you?</div></div></div><div class="nav"><div><a href="/">Home</a></div><div><a href="/article/">Articles</a></div><div><a href="/argmap/">Argmap</a></div><div><a href="/media/">Media</a></div></div><hr><div class="article"><div class="date">2025-12-12</div><div class="summary">Notes from my installation of Zotero on a Debian-based operating system. Inclusion of ChatGPT transcripts in highlight notes, or at least as close as I could get. Strategy for encrypted library backups on-premise using another computer.</div><h1>Zotero setup and workflow</h1><p>Research accumulates a lot of digital papers and textbooks over time. The ability to search them all, take notes inline (the notes can be associated with highlighted regions of the documents), and search within notes is more than a paper notebook can handle. After a friend recommended <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> for managing my research library, I spent some time checking it out. I like <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> a lot so far, and I use it every day.</p><h2>Basic setup</h2><p>Installation (on Debian-based systems) is a snap using <a class="tech" href="https://snapcraft.io/" target="blank_" title="One of too many Linux package managers">snap</a>. It doesn't look like any other binary installation methods are officially supported on Linux at the moment.</p><pre class="snippet">sudo snap install zotero-snap</pre><p>You can upload papers to the library from your filesystem, which is really helpful if you have a lot of PDF documents already downloaded like I did. Adding more papers is easier though, with a Chrome browser extension that adds a button to the toolbar for saving the current page to <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> directly from the browser.</p><p>From there it's just a matter of organizing papers into collections, taking notes on parts of the papers you highlight, and so on. The interface is pretty straightforward. There's still a lot of it I haven't explored yet.</p><h2>ChatGPT conversations</h2><p>Whenever I'm reading a technical paper or textbook (which seems like it's pretty much whenever I'm reading <i>anything</i> these days), I always have ChatGPT or some other LLM open in another window so I can ask clarifying questions, get help with difficult concepts, or even just test my own understanding as I go along. Those chat transcripts are often useful enough that I want to include them in <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> as part of my notes.</p><p>Ideally, I'd be able to highlight a section of text in the paper I'm reading, strike up a conversation with the LLM right in <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> with the highlighted section in context, and have the transcript saved as a comment in the highlight note, formatting and all. Realistically, the tooling isn't there - not yet anyway. The best I can do for now is:</p><ol><li><p>Use a browser extension like <a href="https://chromewebstore.google.com/detail/chatgpt-to-pdf/hiiildgldbpfbegcfgemoliikibfhaeh" target="blank_">ChatGPT to PDF</a> to export the ChatGPT conversation. Several export formats are possible, but so far I've found that PDF works best because it's best at preserving the distinction between my prompts and the ChatGPT's responses. It also preserves any images that ChatGPT sees fit to include. A quick search of the Chrome Web Store turns up many alternatives, and likely ones that work for other LLMs.</p></li><li><p>Import the exported PDF into <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> as a child attachment under the paper I'm reading. Usually the PDF already has a name that makes sense. This part is a little tedious because it involves going back to the Library and clicking a lot of buttons.</p></li><li><p>Add a comment to the highlight note that triggered the ChatGPT conversation containing the name of the attached PDF. Going back to review the note is also a little tedious, because again, it's only accessible through the Library interface.</p></li></ol><h2>On-site library backup</h2><p>While <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> has built-in cloud sync functionality, it's currently not free for libraries over 300MB. I decided to manage my own backups using a little headless Alpine Linux computer I already have and an encrypted backup tool called <a class="tech" href="https://restic.net/" target="blank_" title="Encrypted remote backup utility">restic</a>. The nice thing about <a class="tech" href="https://restic.net/" target="blank_" title="Encrypted remote backup utility">restic</a> is that it's really straightforward and works over <a class="tech" href="https://www.uvm.edu/vacc/docs/start_guide/ssh" target="blank_" title="Opens secure shells on remote systems">ssh</a>, so you only need to install it on the client (my school laptop). For a Debian-based client, it looks something like this.</p><pre class="snippet">sudo apt install restic</pre><p>The next steps involve communicating with the server (that's the Alpine Linux box for me) over <a class="tech" href="https://www.uvm.edu/vacc/docs/start_guide/ssh" target="blank_" title="Opens secure shells on remote systems">ssh</a>. There are different ways to do this (and arguably key-based authentication is best), but I'll use <a class="tech" href="https://www.cyberciti.biz/faq/noninteractive-shell-script-ssh-password-provider" target="blank_" title="Password forwarder for ssh and scp">sshpass</a> to feed my server password to <a class="tech" href="https://www.uvm.edu/vacc/docs/start_guide/ssh" target="blank_" title="Opens secure shells on remote systems">ssh</a>. With that in mind, I'll assume there are some environment variables already set up.</p><ul><li><code>PW</code>: Path to a file containing my password for the server</li><li><code>HOST</code>: Server IP address or hostname</li><li><code>USR</code>: My username for the server</li><li><code>ZT_ROOT</code>: Path to where the <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> library lives on the client (I installed <a class="tech" href="https://www.zotero.org/" target="blank_" title="Non-profit reference manager for researchers">zotero</a> as a <a class="tech" href="https://snapcraft.io/" target="blank_" title="One of too many Linux package managers">snap</a> package, so the path to my library is under <code>$HOME/snap/zotero-snap/common</code>, but other installation methods or <a class="tech" href="https://snapcraft.io/" target="blank_" title="One of too many Linux package managers">snap</a> configurations may place it elsewhere)</li></ul><p>The next step is to initialize a repository. This only needs to be done once. It puts the <a class="tech" href="https://restic.net/" target="blank_" title="Encrypted remote backup utility">restic</a> repository in a <code>zt</code> directory in my home directory on the server.</p><pre class="snippet">restic init --repo sftp:$USR@$HOST:zt</pre><p>For making backups, it's convenient to put the backup commands in a script of their own so there's a single simple command for it. Changing the current directory (instead of supplying <a class="tech" href="https://restic.net/" target="blank_" title="Encrypted remote backup utility">restic</a> a fully qualified path to the directory that should be backed up) is important because otherwise <a class="tech" href="https://restic.net/" target="blank_" title="Encrypted remote backup utility">restic</a> will include the full path in the backup.</p><pre class="snippet">cd $ZT_ROOT
sshpass -f $PW restic backup Zotero --repo sftp:$USR@$HOST:zt</pre><p>This restores the latest library backup from the server to the client. As always, please make your own manual backups of anything important before playing around with new scripts like this!</p><pre class="snippet">restic restore latest --repo sftp:$USR@$HOST:zt --target $ZT_ROOT</pre><p>These are the basics, but if you need a more complex workflow or a one-off task like restoring from something besides the latest backup, <a class="tech" href="https://restic.net/" target="blank_" title="Encrypted remote backup utility">restic</a> has a lot of options.</p></div><hr class="top-gapped"><div class="author"><div class="exposition"><div class="title">Steven Baldasty</div><div class="caption">Proud father, Barefoot runner, Chocolate enthusiast, Seasoned software engineer, Starry eyed PhD student, Novice human</div></div><img src="/selfie.png" title="Sketch courtesy of my daughter" alt="Handsome brown haired man with glasses" width="80" height="88"></div></body></html>